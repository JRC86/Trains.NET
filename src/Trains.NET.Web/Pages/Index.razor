@page "/"
@inject Trains.NET.Rendering.IGame _game
@inject Trains.NET.Engine.IGameBoard _gameBoard
@inject IJSRuntime _jsRuntime

@using Trains.NET.Rendering.HtmlCanvas

<canvas class="col-xs-12" id="game" />

@code
{
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            var canvas = new CanvasWrapper();
            await canvas.InitAsync("game", _jsRuntime);

            _game.SetSize(canvas.Width, canvas.Height);

            _game.Render(canvas);
        }
    }
}